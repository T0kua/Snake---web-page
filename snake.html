<!DOCTYPE html>
<html>
<head>
	<title>snakЫЫЫ...</title>
<style type="text/css">
canvas{
	border:2px solid grey;
}
body{
	background-color: black;
}
</style>
</head>
<body>
<canvas width="300" height="300" id="canvas"></canvas>
<script type="text/javascript">
/////переменные
var canvas = document.getElementById('canvas')
var set = canvas.getContext('2d')
var block = 10 //клетОЧКА
var snec = 4 //колличество хвоста
var snake = [ //змея
[3,5],
[2,5],
[1,5]
] //x , y
//
var snec2 = 4
var snake2 = [ //змея
[3,7],
[2,7],
[1,7]
]
var pos2 = 'none'
//
var score = 0 
var pos = 'right'
var copy = false
var random = function(min,max){
 return (Math.floor(Math.random () * (max - min)) + min)
}
var apple = {
	x : random(0,30),
	y : random(0,30)
}
bot = false
////код
function game(){
 if (snake[0][0] === apple.x && snake[0][1] === apple.y){
 	apple.x = random(0,30)
 	apple.y = random(0,30)
 	snec ++
 	score ++
 	snake.push(snake[snake.lenght - 1])
 }
 //
 if (snake2[0][0] === apple.x && snake2[0][1] === apple.y){
 	apple.x = random(0,30)
 	apple.y = random(0,30)
 	snec2 ++
 	score ++
 	snake2.push(snake[snake.lenght - 1])
 }
 //
if (snake2[0][0] >= 30){
	snake2[0][0] = 0
}
if (snake2[0][0] <= -1){
	snake2[0][0] = 29
}
if (snake2[0][1] <= -1){
	snake2[0][1] = 29
}
if (snake2[0][1] >= 30){
	snake2[0][1] = 0
}
if (snake[0][0] >= 30){
	snake[0][0] = 0
}
if (snake[0][0] <= -1){
	snake[0][0] = 29
}
if (snake[0][1] <= -1){
	snake[0][1] = 29
}
if (snake[0][1] >= 30){
	snake[0][1] = 0
}
 
}
document.addEventListener('keydown',function(e){
if (e.which === 49){
	bot = true
}
if (e.which === 50){
	bot = false
}
if (e.which === 39 && pos !== 'left'){
 pos = 'right'
}
if (e.which === 37 && pos !== 'right'){
 pos = 'left'
}
if (e.which === 38 && pos !== 'down'){
 pos = 'up'
}
if (e.which === 40 && pos !== 'up'){
 pos = 'down'
}
if (e.which === 68 && pos2 !== 'left'){
 pos2 = 'right'
}
if (e.which === 65 && pos2 !== 'right'){
 pos2 = 'left'
}
if (e.which === 87 && pos2 !== 'down'){
 pos2 = 'up'
}
if (e.which === 83 && pos2 !== 'up'){
 pos2 = 'down'
}
if (e.which === 13){
		copy = false
}
if (e.which === 16){
		copy = true
}
})
setInterval(function(){
if (copy === true ){
	pos2 = pos
}
set.fillStyle = 'black'
set.fillRect(0,0,300,300)//set.clearRect(0,0,300,300) 
if (pos === 'right'){
	snake.unshift([++snake[0][0],snake[0][1]])
}
if (pos === 'down'){
	snake.unshift([snake[0][0],++snake[0][1]])
}
if (pos === 'left'){
	snake.unshift([--snake[0][0],snake[0][1]])
}
if (pos === 'up'){
	snake.unshift([snake[0][0],--snake[0][1]]) 
}
if (bot === true){
if (snake2[0][0] > apple.x){
pos2 = 'left'
}
if (snake2[0][0] < apple.x){
pos2 = 'right'
}
if (snake2[0][1] < apple.y){
pos2 = 'down'
}
if (snake2[0][1] > apple.y){
pos2 = 'up'
}
}
//комментарий от разработчика : РАБОТАЙ С,КА
if (pos2 === 'right'){
	snake2.unshift([++snake2[0][0],snake2[0][1]])
}
if (pos2 === 'down'){
	snake2.unshift([snake2[0][0],++snake2[0][1]])
}
if (pos2 === 'left'){
	snake2.unshift([--snake2[0][0],snake2[0][1]])
}
if (pos2 === 'up'){
	snake2.unshift([snake2[0][0],--snake2[0][1]])
}

set.fillStyle = 'green'
for (i = 0; i < snec; ++i){
 set.fillRect(snake[i][0] * block,snake[i][1] * block,10,10)
 if (i > 1){
  if (snake[0][0] === snake[i][0] && snake[0][1] === snake[i][1]){
   snec -= snec -  i
  } 
 }
}
set.fillStyle = 'red'
set.fillRect(apple.x * block,apple.y * block,10,10)
game()
},60)
setInterval(function(){
set.fillStyle = 'yellow'
for (i = 0; i < snec2; ++i){
 set.fillRect(snake2[i][0] * block,snake2[i][1] * block,10,10)
 if (i > 1){
  if (snake2[0][0] === snake2[i][0] && snake2[0][1] === snake2[i][1]){
   snec2 -= snec2 - i
  } 
 }
}
},60)
</script>
</body>
</html>
